(()=>{var e=document.querySelector("video"),t=document.getElementById("mute"),n=t.querySelector("i"),u=document.getElementById("play"),d=u.querySelector("i"),a=document.getElementById("volume"),i=document.getElementById("totalTime"),o=document.getElementById("currentTime"),l=document.getElementById("timeline"),c=document.getElementById("fullScreen"),s=c.querySelector("i"),r=document.getElementById("videoContainer"),m=document.getElementById("videoControls"),v=null,f=null,E=.5;e.volume=E;var L=function(t){console.log(t),e.paused?e.play():e.pause(),d.classList=e.paused?"fas fa-play":"fas fa-pause"},y=function(e){return new Date(1e3*e).toISOString().substring(14,19)},g=function(){m.classList.remove("showing")};u.addEventListener("click",L),e.addEventListener("click",L),document.addEventListener("keypress",(function(e){"Space"!==e.code&&"Enter"!==e.code||L()})),t.addEventListener("click",(function(t){e.muted?e.muted=!1:e.muted=!0,n.classList=e.muted?"fas fa-volume-mute":"fas fa-volume-up",a.value=e.muted?0:E})),a.addEventListener("input",(function(n){var u=n.target.value;e.volume=u,e.muted&&(e.muted=!1,t.innerText="Mute"),E=u,e.volume=E})),e.addEventListener("loadeddata",(function(){i.innerText=y(e.duration),l.max=Math.floor(e.duration)})),e.addEventListener("timeupdate",(function(){o.innerText=y(e.currentTime),l.value=Math.floor(e.currentTime)})),e.addEventListener("ended",(function(){var e=r.dataset.id;fetch("/api/videos/".concat(e,"/view"),{method:"POST"})})),r.addEventListener("mousemove",(function(){v&&(clearTimeout(v),v=null),f&&(clearTimeout(f),f=null),m.classList.add("showing"),f=setTimeout(g,3e3)})),r.addEventListener("mouseleave",(function(){v=setTimeout(g,1e3)})),l.addEventListener("input",(function(t){var n=t.target.value;e.currentTime=n})),c.addEventListener("click",(function(){document.fullscreenElement?(document.exitFullscreen(),s.classList="fas fa-expand"):(r.requestFullscreen(),s.classList="fas fa-compress")}))})();